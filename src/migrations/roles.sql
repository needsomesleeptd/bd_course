CREATE ROLE admin WITH
SUPERUSER
NOCREATEDB
CREATEROLE
NOINHERIT
NOREPLICATION
NOBYPASSRLS
CONNECTION LIMIT -1
 LOGIN
 PASSWORD 'admin';

GRANT ALL PRIVILEGES
ON ALL TABLES IN SCHEMA public
TO admin;





CREATE ROLE adder WITH
NOSUPERUSER
NOCREATEDB
NOCREATEROLE
NOINHERIT
NOREPLICATION
NOBYPASSRLS
CONNECTION LIMIT -1
 LOGIN
 PASSWORD 'adder';

GRANT INSERT
ON public.users IN SCHEMA public
TO adder;



CREATE ROLE annoter WITH
NOSUPERUSER
NOCREATEDB
NOCREATEROLE
NOINHERIT
NOREPLICATION
NOBYPASSRLS
CONNECTION LIMIT -1
 LOGIN
 PASSWORD 'annoter';

GRANT INSERT
ON public.markups IN SCHEMA public
TO annoter;


GRANT SELECT
ON public.documents IN SCHEMA public
TO annoter;





CREATE ROLE student WITH
NOSUPERUSER
NOCREATEDB
NOCREATEROLE
NOINHERIT
NOREPLICATION
NOBYPASSRLS
CONNECTION LIMIT -1
 LOGIN
 PASSWORD 'student';




GRANT INSERT
ON public.comments IN SCHEMA public
TO student;

GRANT INSERT,SELECT
ON public.markups IN SCHEMA public
TO student;
-- think about adding function for viewing all his documents and reports



CREATE ROLE controller WITH
NOSUPERUSER
NOCREATEDB
NOCREATEROLE
NOINHERIT
NOREPLICATION
NOBYPASSRLS
CONNECTION LIMIT -1
 LOGIN
 PASSWORD 'controller';




GRANT  ALL PRIVILEGES
ON public.comments IN SCHEMA public
TO controller;

GRANT ALL PRIVILEGES
ON public.markups IN SCHEMA public
TO controller;


GRANT INSERT,SELECT
ON public.markup_types IN SCHEMA public
TO controller;

GRANT INSERT,SELECT
ON public.achievment IN SCHEMA public
TO controller;